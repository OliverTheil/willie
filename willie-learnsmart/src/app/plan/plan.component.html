<div class="plan">
  <section class="margin--tb--4rem borderRadius--16">
    <div class="padding16">
      <h1>
        And here is your plan {{ this.answers.userName }}. Use it and it's only
        a matter of time before you master {{ this.answers.userTopic }}. Work at
        this goal and don't give up!
      </h1>
    </div>
    <div class="padding16">
      <div>
        First of all: <br />
        The complete plan works with the Pomodoro technique. But Willie, what is
        pomodoro?
      </div>
      <br />
      It's a time management from Francesco Cirillo (1980) and stands for
      tomato. That's right! It's a tomato technique. Ok, no it's not. Each
      interval is known as a Pomodoro, from the Italian word for tomato, after
      the tomato-shaped kitchen timer Cirillo used as a university student.
      After a 25 minute task you get a 5 minute break. Also very common are
      tasks with a duration of 50 minutes and 10 minute breaks. It doesn't
      matter when you learn. Study if you have time for it.<br />
      In a nutshell, after every little task of 25 or 50 minutes you get a
      break.
      <br />
      <br />

      But within that period of time, here's what you need to do: <br />
      <br />
      - full concentration <br />
      - no smartphone! Airplane mode and put it away <br />
      - stay hydrated <br />
      - get snacks like some apple pieces or cookies <br />
      - optional: listen to something relaxing like lofi-beats <br />
    </div>

    <div class="plan__icons__exp__div">
      Explanation of the symbols:
      <div class="plan__day noHover paddingLeft">
        <div class="margin--lr--32 plan__singleSession min50 effect">50min</div>
        <p class="plan__icons__exp">
          Learn 50 minutes, then a 10 minute break.
        </p>
      </div>
      <div class="plan__day noHover paddingLeft">
        <div class="margin--lr--32 plan__singleSession min25 effect">25min</div>
        <p class="plan__icons__exp">Learn 25 minutes, then a 5 minute break.</p>
      </div>
      <div class="plan__day noHover paddingLeft">
        <div class="margin--lr--32 plan__singleSession icon__div icon__eat">
          <i class="fa-solid fa-apple-whole"></i>
        </div>
        <p class="plan__icons__exp">
          Make a break of 10 minutes. Eat some snacks or make a coffee.
        </p>
      </div>
      <div class="plan__day noHover paddingLeft">
        <div class="margin--lr--32 plan__singleSession icon__div icon__repeat">
          <i class="fa-solid fa-arrow-rotate-right"></i>
        </div>
        <p class="plan__icons__exp">
          Repeat slowly 10 minutes your notes and no hurry.
        </p>
      </div>
      <div class="plan__day noHover paddingLeft">
        <div
          class="margin--lr--32 plan__singleSession icon__div icon__optional"
        >
          <i class="fa-solid fa-circle-notch"></i>
        </div>
        <p class="plan__icons__exp">
          Optional: Repeat slowly 5 minutes your notes and no hurry.
        </p>
      </div>
    </div>
  </section>

  <section class="plan__complete margin--tb--4rem effect">
    <div class="plan__day noHover paddingLeft">
      <div>
        <b class="paddingLeft">{{ this.userLearningAbility }}</b>
      </div>
      <p class="plan__icons__exp">
        Your entered data in numbers. From a maximum factor of <b>1</b> you
        reached <b>{{ this.userLearningAbility }}</b
        >. The higher the number, the easier it is for you to learn the given
        topic. <br />
      </p>
    </div>
    <div class="plan__day noHover paddingLeft">
      <p *ngIf="this.userLearningAbility <= 0.25">
        Ok, I got that! You have a tough nut to crack. I will organize your plan
        with short sessions.
      </p>
      <p
        *ngIf="
          this.userLearningAbility > 0.25 && this.userLearningAbility < 0.5
        "
      >
        Not the best value but I will organize your plan with many short and one
        or two long sessions!
      </p>
      <p
        *ngIf="
          this.userLearningAbility >= 0.5 && this.userLearningAbility <= 0.75
        "
      >
        Your value is good! I will organize your plan with a mix of long and
        short sessions.
      </p>
      <p
        *ngIf="this.userLearningAbility > 0.75 && this.userLearningAbility <= 1"
      >
        Your value is great! I will organize your plan with as many long
        sessions as possible if your maximum of minutes per day makes it
        possible.
      </p>
    </div>
    <div class="plan__day noHover paddingLeft icon__hand">
      <i class="fa-solid fa-arrow-pointer"></i>
      <p class="plan__icons__exp">
        I know your max time, but i will add someday an extra module. If you
        don't like that or your plan, customize it! Click on the day and
        add/delete a module or build your own day.
      </p>
    </div>
  </section>

  <section
    *ngFor="let week of this.plan.weeks; let i = index"
    class="plan__complete effect"
  >
    <div>{{ this.plan.weeks[i] }}</div>
    <div
      *ngFor="let day of this.plan.days; let d = index"
      class="plan__day column"
    >
      <div
        (click)="
          !changeDay ? (changeDay = true) : (changeDay = false);
          thisDay(this.plan.weekNumbers[i] + day)
        "
        class="plan__allSessions__container"
      >
        <p class="plan__day__p" #day>{{ this.plan.days[d] }}</p>
        <div class="plan__allSessions">
          <div
            *ngFor="
              let module of this.plan[this.plan.weekNumbers[i]][day];
              let moduleNumber = index
            "
            (click)="chooseModule(this.plan.weekNumbers[i], day, moduleNumber)"
          >
            <div
              *ngIf="module == '25min'"
              class="plan__singleSession min25 effect"
              value="25min"
            >
              {{ module }}
            </div>
            <div
              *ngIf="module == '50min'"
              class="plan__singleSession min50 effect"
              value="50min"
            >
              {{ module }}
            </div>
            <div
              *ngIf="module == 'eat'"
              class="plan__singleSession icon__div icon__eat"
              value="eat"
            >
              <i class="fa-solid fa-apple-whole"></i>
            </div>
            <div
              *ngIf="module == 'repeat'"
              class="plan__singleSession icon__div icon__repeat"
              value="repeat"
            >
              <i class="fa-solid fa-arrow-rotate-right"></i>
            </div>
            <div
              *ngIf="module == 'optional'"
              class="plan__singleSession icon__div icon__optional"
              value="optional"
            >
              <i class="fa-solid fa-circle-notch"></i>
            </div>
          </div>
        </div>
      </div>

      <section
        id="{{ this.plan.weekNumbers[i] }}{{ day }}"
        class="customizePlan hide"
      >
        <div
          id="add{{ this.plan.weekNumbers[i] }}{{ day }}"
          (click)="addModule(this.plan.weekNumbers[i], day)"
          class="margin--lr--32 plan__singleSession icon__div add hover"
        >
          <i class="fa-solid fa-plus"></i>
        </div>
        <div
          id="delete{{ this.plan.weekNumbers[i] }}{{ day }}"
          (click)="deleteModule(this.plan.weekNumbers[i], day)"
          class="margin--lr--32 plan__singleSession icon__div delete hover"
        >
          <i class="fa-solid fa-minus"></i>
        </div>
        <div
          id="deleteDay"
          (click)="deleteDay(this.plan.weekNumbers[i], day)"
          class="margin--lr--32 plan__singleSession icon__div deleteDay hover"
        >
          <i class="fa-solid fa-trash"></i>
        </div>

        <div class="close hover">
          <i
            (click)="
              closeWindow(
                this.plan.weekNumbers[i],
                day,
                this.plan.weekNumbers[i] + day
              )
            "
            class="fa-regular fa-circle-xmark"
          ></i>
        </div>

        <div class="moduleContainer">
          <div
            (click)="clickedModule('50min', this.plan.weekNumbers[i], day)"
            class="margin--lr--32 plan__singleSession min50 effect hover"
          >
            50min
          </div>
          <div
            (click)="clickedModule('25min', this.plan.weekNumbers[i], day)"
            class="margin--lr--32 plan__singleSession min25 effect hover"
          >
            25min
          </div>
          <div
            (click)="clickedModule('repeat', this.plan.weekNumbers[i], day)"
            class="margin--lr--32 plan__singleSession icon__div icon__repeat hover"
          >
            <i class="fa-solid fa-arrow-rotate-right"></i>
          </div>
          <div
            (click)="clickedModule('eat', this.plan.weekNumbers[i], day)"
            class="margin--lr--32 plan__singleSession icon__div icon__eat hover"
          >
            <i class="fa-solid fa-apple-whole"></i>
          </div>
        </div>
      </section>
    </div>
  </section>
  <section (click)="resetPlan()" routerLink="" class="backButton effect">
    <p class="backLink">You don't like your plan? Make a new one!</p>
  </section>
</div>
